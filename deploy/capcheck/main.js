
///* drawBeam.js
///~ spreadsheetdata/Data.js
///* Beam.js

///////////////////////////////////////////////////////////////////////////////////////
//		Build UI  /////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////

var canvas_csect	= document.getElementById("canvas_csect");
var ctx_csect		= canvas_csect.getContext('2d');

var canvas_elevation	= document.getElementById("canvas_elevation");
var ctx_elevation		= canvas_elevation.getContext('2d');

var beam = new Beam();
beam.onupdate = update;
beam.update();



////////////////////////////////////////////////////////////////////////////////////////////////
//// UPDATE EVENT //////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////

update();
function update(evt){
	drawCrossSection(ctx_csect, beam);
	drawElevation(ctx_elevation, beam);
}







/////////////////////////////////////////////////////////////////////////////////////
// RESIZE EVENT /////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////
window.addEventListener("resize",resize);
resize();
function resize(e){
	var st = window.getComputedStyle(canvas_csect.parentElement);
	canvas_csect.width = parseInt(st.width);
	canvas_csect.height = Math.min(parseInt(st.width),400);


	var st = window.getComputedStyle(canvas_elevation.parentElement);
	canvas_elevation.width = parseInt(st.width);
	canvas_elevation.height = 100;

	update();
}